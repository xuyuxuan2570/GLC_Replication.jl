## Overview
This code base contains all the scripts needed to execute the economic model discussed in the paper. These scripts are used to set up the model parameters, execute the simulation and visualize the results, which are used to simulate various economic phenomena during China's economic transition as discussed in the paper.

## Scripts Description and Relationship

### `main_parameter.jl`
- **Purpose**: Initializes the basic parameters and global variables of the economic model and is responsible for running the entire replication process.
- **Importance**: Provides the parameter base for all calculations in the model and automates the entire process by introducing additional scripts to generate all necessary output files.

### `pre_transition.jl`
- **Purpose**: Modeling economic behavior and states prior to any major economic transition.
- **Features**: Calculate the initial wealth, savings and consumption of workers and entrepreneurs, provides underlying data for initial state visualization and baseline scenarios.
- **Functions Included**：
  - `fun_saving_pre_transition`
  - `fun_saving_pre_transition_E`

### `transition.jl`
- **Purpose**: Manages the simulation of the economy during transition periods.
- **Features**: Iteratively adjust economic variables to model changes due to policy or external factors. Generate time series data for dynamic visualization of economic transitions.
- **Functions Included**：
  - `fun_saving_E_existing`
  - `fun_saving_E_newly_born`
  - `fun_saving_F_existing`
  - `fun_saving_F_newly_born`

### `result.jl`
- **Purpose**: Summarize and analyze the replication results for each phase.
- **Features**: Calculate comprehensive economic indicators and prepare final visualizations and generate detailed charts and tables summarizing model outputs.
- **Relationship**:
  - Data generated using `pre_transition.jl` and `transition.jl`.
  - The output is visualized in detail in `six_panel.jl`.

### `six_panel.jl`
- **Purpose**: Visualizes the results of the model in a structured six-panel format.
- **Features**: Each panel displays a different key economic indicator, such as the rate of return, employment share, savings rate, and so on.
- **Relationship**:
  - Directly relies on `result.jl` aggregated and analyzed data.
  - The visualization provides empirical validation of the model by comparing simulated data with actual economic data.

## Figures
- **Figure 1-6**：
  - **Generation method**：Generated by code in the `six_panel.jl` script, combined with aggregated data in `result.jl`.
  - **Corresponding files**：Individual panel plots rely on economic behavior data computed by functions such as `fun_saving_F_newly_born` used in `transition.jl`. Displaying various economic indicators such as savings rate, investment rate, employment share and TFP growth, these panels rely on data aggregated and analyzed by `result.jl`, `six_panel.jl` utilizes the output data of `result.jl` to display the results computed from `pre_transition.jl` and `transition.jl`. results from `pre_transition.jl` and `transition.jl` calculations.

## Execution Order and Dependencies
1.Run `main_parameter.jl` will automatically perform the following steps:
- Set the global economic parameters.
- Run `pre_transition.jl`, `transition.jl`, `result.jl`, and `six_panel.jl` in sequence to generate all outputs of the model and visualize the charts.

To be more specific,
1. **Economy Before Transition**：
   - Run `pre_transition.jl` to model any pre-transition economic conditions and behaviors.
2. **Run Transition Simulation**：
   - Run `transition.jl` to simulate adjustments to the economic transition.
3. **Analysis of Results**：
   - `result.jl` aggregates data from previous process and conduct a comprehensive economic analysis.
4. **Visualization**：
   - Finally, `six_panel.jl` visualizes the results of the economic model and its predictions.
  
# Figures
![Replication of the result](assets/img/figure_2.png)
![Replication of the result](assets/img/figure_3.png)
![Replication of the result](assets/img/figure_4.png)
![Replication of the result](assets/img/figure_5.png)
![Replication of the result](assets/img/figure_6.png)
![Replication of the result](assets/img/figure_7.png)
![Replication of the result](assets/img/figure_8.png)

# Comparison
Then, we compare our replication results and the original results. We can see from the two figures that our replication is mostly the same as the paper had. So the result would be similar. 
![Replication of the result](assets/img/figure_1.png "what we replicate")
![Transition in the Analytical Model](assets/img/paper_six_panels_1.png "the original result from paper")
This figure shows the evolution of key economic variables during and after the economic transition in an analytical model. This figure shows that throughout the transition period, the country's foreign exchange surplus increases by efficiency units as the share of employment in E firms (more efficient firms) increases. When all workers are employed in E firms, i.e., when the transition is complete, the net foreign exchange surplus becomes positive. This reflects a reallocation of employment and resources from firm F (relatively inefficient firms), where financial integration is high, to firm E, with a concomitant reduction in the demand for domestic borrowing and a shift in the bank's asset allocation to foreign bonds.


![Replication of the result](assets/img/six_panel.png "what we replicate")
![Transition in the Calibrated Economy](assets/img/paper_six_panels_2.png "the original result from paper")
This figure depicts the evolution of key variables during and after the economic transition in a calibrated economic model. The solid and dashed lines in the figure represent the simulation results of the model and the actual data, respectively. The figure illustrates the speed of employment reallocation, the evolution of the savings rate (in a U-shaped dynamic), and the trend in the foreign exchange surplus. The increase in the savings rate is associated with a higher savings rate for E-firm managers, which is the main mechanism driving the increase in savings. At the same time, the model accurately predicts the trend in the foreign exchange surplus, albeit with a slight bias in some years. These demonstrate the degree of agreement and discrepancy between the model and China's actual economic data.
